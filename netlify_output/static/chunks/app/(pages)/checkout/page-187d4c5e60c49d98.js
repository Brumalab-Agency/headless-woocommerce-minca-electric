(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[927],{73742:function(e,l,n){Promise.resolve().then(n.bind(n,50703)),Promise.resolve().then(n.bind(n,65469))},50703:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return $}});var i=n(57437),t=n(2265),a=n(16480),r=n.n(a),o=n(20703),s=n(70331),d=n.n(s),c=e=>{var l,n,t,a,r,s,d,c;let{item:u}=e,h=null!==(a=null==u?void 0:null===(n=u.data)||void 0===n?void 0:null===(l=n.images)||void 0===l?void 0:l[0])&&void 0!==a?a:"";return(0,i.jsxs)("tr",{className:"woo-next-cart-item",children:[(0,i.jsx)("td",{className:"woo-next-cart-element",children:(0,i.jsx)("figure",{children:(0,i.jsx)(o.default,{width:"150",height:"150",alt:null==h?void 0:h.name,src:null==h?void 0:h.src})})}),(0,i.jsx)("td",{className:"woo-next-cart-element",children:null!==(r=null==u?void 0:null===(t=u.data)||void 0===t?void 0:t.name)&&void 0!==r?r:""}),(0,i.jsxs)("td",{className:"woo-next-cart-element",children:[null!==(s=null==u?void 0:u.currency)&&void 0!==s?s:"",null!==(d=null==u?void 0:u.line_subtotal)&&void 0!==d?d:""]})]},null!==(c=null==u?void 0:u.productId)&&void 0!==c?c:"")},u=e=>{var l,n,t,a,r;let{cart:o}=e;return(0,i.jsx)(i.Fragment,{children:o?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("table",{className:"checkout-cart table table-hover w-full mb-10",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"woo-next-cart-head-container text-left",children:[(0,i.jsx)("th",{className:"woo-next-cart-heading-el",scope:"col"}),(0,i.jsx)("th",{className:"woo-next-cart-heading-el",scope:"col",children:"Productos"}),(0,i.jsx)("th",{className:"woo-next-cart-heading-el",scope:"col",children:"Total"})]})}),(0,i.jsxs)("tbody",{children:[(null==o?void 0:null===(l=o.cartItems)||void 0===l?void 0:l.length)&&o.cartItems.map((e,l)=>{var n;return(0,i.jsx)(c,{item:e},null!==(n=null==e?void 0:e.productId)&&void 0!==n?n:l)}),(0,i.jsx)("td",{children:(0,i.jsx)("br",{})}),(0,i.jsxs)("tr",{className:"total",children:[(0,i.jsx)("td",{className:""}),(0,i.jsx)("td",{className:"woo-next-checkout-total font-normal text-xl",children:"Total"}),(0,i.jsxs)("td",{className:"woo-next-checkout-total font-bold text-xl",children:[null!==(a=null==o?void 0:null===(t=o.cartItems)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.currency)&&void 0!==a?a:"",null!==(r=null==o?void 0:o.totalPrice)&&void 0!==r?r:""]})]})]})]})}):""})},h=e=>{let{errors:l,fieldName:n}=e;return l&&l.hasOwnProperty(n)?(0,i.jsx)("div",{className:"invalid-feedback d-block text-red-500",children:l[n]}):""},p=n(62919),m=n.n(p),g=e=>null==e||"object"==typeof e&&0===Object.keys(e).length||"string"==typeof e&&0===e.trim().length,v=function(e){let l=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n={},i={};e.firstName=g(e.firstName)?"":e.firstName,e.lastName=g(e.lastName)?"":e.lastName,e.company=g(e.company)?"":e.company,e.country=g(e.country)?"":e.country,e.address1=g(e.address1)?"":e.address1,e.address2=g(e.address2)?"":e.address2,e.city=g(e.city)?"":e.city,e.state=g(e.state)?"":e.state,e.postcode=g(e.postcode)?"":e.postcode,e.phone=g(e.phone)?"":e.phone,e.email=g(e.email)?"":e.email,e.createAccount=g(e.createAccount)?"":e.createAccount,e.orderNotes=g(e.orderNotes)?"":e.orderNotes;let t=function(l,t,a,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5?arguments[5]:void 0;m().isLength(e[l],{min:a,max:r})||(n[l]="".concat(t," must be ").concat(a," to ").concat(r," characters")),"email"!==o||m().isEmail(e[l])||(n[l]="".concat(t," is not valid")),"phone"!==o||m().isMobilePhone(e[l])||(n[l]="".concat(t," is not valid")),s&&m().isEmpty(e[l])&&(n[l]="".concat(t," is required")),n[l]||(i[l]=m().trim(e[l]),i[l]="email"===o?m().normalizeEmail(i[l]):i[l],i[l]=m().escape(i[l]))};return t("firstName","First name",2,35,"string",!0),t("lastName","Last name",2,35,"string",!0),t("company","Company Name",0,35,"string",!1),t("country","Country name",2,55,"string",!0),t("address1","Street address line 1",12,100,"string",!0),t("address2","",0,254,"string",!1),t("city","City field",3,25,"string",!0),t("state","State/County",0,254,"string",l),t("postcode","Post code",2,10,"postcode",!0),t("phone","Phone number",10,15,"phone",!0),t("email","Email",11,254,"email",!0),i.createAccount=e.createAccount,t("orderNotes","",0,254,"string",!1),{sanitizedData:i,errors:n,isValid:g(n)}},x=n(74404),y=n.n(x),b=n(30677),f=n.n(b);let j=e=>{let{required:l}=e;return l?(0,i.jsx)("abbr",{className:"text-red-500",style:{textDecoration:"none"},title:"required",children:"*"}):null};j.propTypes={required:y().bool},j.defaultProps={required:!1};var N=function(e){return(0,i.jsxs)("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",className:"arrow-down_svg__fill-current arrow-down_svg__text-3xl",...e,children:[(0,i.jsx)("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:.87}),(0,i.jsx)("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"})]})},w=e=>{let{input:l,handleOnChange:n,countries:t,isShipping:a}=e,{country:r,errors:o}=l||{},s="country-".concat(a?"shipping":"billing");return(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{className:"text-sm leading-7 text-gray-700",htmlFor:s,children:["Pa\xeds",(0,i.jsx)(j,{required:!0})]}),(0,i.jsxs)("div",{className:"relative w-full border-none",children:[(0,i.jsxs)("select",{onChange:n,value:r,name:"country",className:"inline-block w-full appearance-none rounded border border-gray-500 bg-gray-100 bg-opacity-50 py-3 pl-3 pr-8 leading-tight text-gray-500",id:s,children:[(0,i.jsx)("option",{value:"",children:"Seleccione un pa\xeds..."}),!d()(t)&&f()(t,e=>(0,i.jsx)("option",{"data-countrycode":null==e?void 0:e.countryCode,value:null==e?void 0:e.countryCode,children:null==e?void 0:e.countryName},null==e?void 0:e.countryCode))]}),(0,i.jsx)("span",{className:"absolute right-0 mr-1 text-gray-500",style:{top:"25%"},children:(0,i.jsx)(N,{width:24,height:24,className:"fill-current"})})]}),(0,i.jsx)(h,{errors:o,fieldName:"country"})]})};let C=e=>{let{handleOnChange:l,input:n,states:t,isFetchingStates:a,isShipping:o}=e,{state:s,errors:d}=n||{},c="state-".concat(o?"shipping":"billing");return a?(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{className:"leading-7 text-sm text-gray-700",children:["Estado",(0,i.jsx)(j,{required:!0})]}),(0,i.jsx)("div",{className:"relative w-full border-none",children:(0,i.jsx)("select",{disabled:!0,value:"",name:"state",className:"opacity-50 bg-gray-100 bg-opacity-50 border border-gray-500 text-gray-500 appearance-none inline-block py-3 pl-3 pr-8 rounded leading-tight w-full",children:(0,i.jsx)("option",{value:"",children:"Cargando..."})})})]}):t.length?(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{className:"leading-7 text-sm text-gray-600",htmlFor:c,children:["Estado",(0,i.jsx)(j,{required:!0})]}),(0,i.jsx)("div",{className:"relative w-full border-none",children:(0,i.jsxs)("select",{disabled:a,onChange:l,value:s,name:"state",className:r()("bg-gray-100 bg-opacity-50 border border-gray-400 text-gray-500 appearance-none inline-block py-3 pl-3 pr-8 rounded leading-tight w-full",{"opacity-50":a}),id:c,children:[(0,i.jsx)("option",{value:"",children:"Select a state..."}),t.map((e,l)=>{var n,t;return(0,i.jsx)("option",{value:null!==(n=null==e?void 0:e.stateName)&&void 0!==n?n:"",children:null==e?void 0:e.stateName},null!==(t=null==e?void 0:e.stateCode)&&void 0!==t?t:l)})]})}),(0,i.jsx)(h,{errors:d,fieldName:"state"})]}):null};C.propTypes={handleOnChange:y().func,input:y().object,states:y().array,isFetchingStates:y().bool,isShipping:y().bool},C.defaultProps={handleOnChange:()=>null,input:{},states:[],isFetchingStates:!1,isShipping:!0};var S=(0,t.memo)(C);let O=e=>{let{handleOnChange:l,inputValue:n,name:t,type:a,label:r,errors:o,placeholder:s,required:d,containerClassNames:c,isShipping:u}=e,p="".concat(t,"-").concat(u?"shipping":"");return(0,i.jsxs)("div",{className:c,children:[(0,i.jsxs)("label",{className:"text-sm leading-7 text-gray-700",htmlFor:p,children:[r||"",(0,i.jsx)(j,{required:d})]}),(0,i.jsx)("input",{onChange:l,value:n,placeholder:s,type:a,name:t,className:"w-full rounded border border-gray-500 bg-gray-100 bg-opacity-50 px-3 py-1 text-base leading-8 text-gray-800 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:bg-transparent focus:ring-2 focus:ring-indigo-200",id:p}),(0,i.jsx)(h,{errors:o,fieldName:t})]})};O.propTypes={handleOnChange:y().func,inputValue:y().string,name:y().string,type:y().string,label:y().string,placeholder:y().string,errors:y().object,required:y().bool,containerClassNames:y().string},O.defaultProps={handleOnChange:()=>null,inputValue:"",name:"",type:"text",label:"",placeholder:"",errors:{},required:!1,containerClassNames:""};var _=e=>{let{input:l,handleOnChange:n}=e,{recogida:t,errors:a}=l||{},r="recogida";return(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{className:"text-sm leading-7 text-gray-700",htmlFor:r,children:["Sitio de Recogida",(0,i.jsx)(j,{required:!0})]}),(0,i.jsxs)("div",{className:"relative w-full border-none",children:[(0,i.jsxs)("select",{onChange:n,value:t,name:"recogida",className:"inline-block w-full appearance-none rounded border border-gray-500 bg-gray-100 bg-opacity-50 py-3 pl-3 pr-8 leading-tight text-gray-500",id:r,children:[(0,i.jsx)("option",{value:"",children:"Seleccione un sitio de recogida..."}),(0,i.jsx)("option",{value:"Fuera de Bogot\xe1. Entrega de 3 a 5 d\xedas h\xe1biles: $90.000",children:"Fuera de Bogot\xe1. Entrega de 3 a 5 d\xedas h\xe1biles: $90.000"}),(0,i.jsx)("option",{value:"Javeriana Cra. 7 #45-10",children:"Javeriana Cra. 7 #45-10"}),(0,i.jsx)("option",{value:"Chico Cra. 11a #94a-56",children:"Chico Cra. 11a #94a-56"}),(0,i.jsx)("option",{value:"Cedritos Av. Cra 19 #143a-8",children:"Cedritos Av. Cra 19 #143a-8"})]}),(0,i.jsx)("span",{className:"absolute right-0 mr-1 text-gray-500",style:{top:"25%"},children:(0,i.jsx)(N,{width:24,height:24,className:"fill-current"})})]}),(0,i.jsx)(h,{errors:a,fieldName:"recogida"})]})};let k=e=>{let{input:l,countries:n,states:t,handleOnChange:a,isFetchingStates:r,isShipping:o}=e,{errors:s}=l||{};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex flex-wrap overflow-hidden sm:-mx-3",children:[(0,i.jsx)(O,{name:"firstName",inputValue:null==l?void 0:l.firstName,required:!0,handleOnChange:a,label:"Nombre",errors:s,isShipping:o,containerClassNames:"w-full overflow-hidden sm:my-2 sm:px-2 md:w-1/2"}),(0,i.jsx)(O,{name:"lastName",inputValue:null==l?void 0:l.lastName,required:!0,handleOnChange:a,label:"Apellido",errors:s,isShipping:o,containerClassNames:"w-full overflow-hidden sm:my-2 sm:px-2 md:w-1/2"})]}),(0,i.jsx)(O,{name:"company",inputValue:null==l?void 0:l.company,handleOnChange:a,label:"Nombre compa\xf1ia (Opcional)",errors:s,isShipping:o,containerClassNames:"mb-4"}),(0,i.jsx)(w,{input:l,handleOnChange:a,countries:n,isShipping:o}),(0,i.jsx)(O,{name:"address1",inputValue:null==l?void 0:l.address1,required:!0,handleOnChange:a,label:"Direcci\xf3n",placeholder:"House number and street name",errors:s,isShipping:o,containerClassNames:"mb-4"}),(0,i.jsx)(O,{name:"address2",inputValue:null==l?void 0:l.address2,handleOnChange:a,label:"Segunda direcci\xf3n",placeholder:"Apartment floor unit building floor etc(optional)",errors:s,isShipping:o,containerClassNames:"mb-4"}),(0,i.jsx)(O,{name:"city",required:!0,inputValue:null==l?void 0:l.city,handleOnChange:a,label:"Pueblo/Ciudad",errors:s,isShipping:o,containerClassNames:"mb-4"}),(0,i.jsx)(S,{input:l,handleOnChange:a,states:t,isShipping:o,isFetchingStates:r}),(0,i.jsxs)("div",{className:"flex flex-wrap overflow-hidden sm:-mx-3",children:[(0,i.jsx)(O,{name:"postcode",inputValue:null==l?void 0:l.postcode,required:!0,handleOnChange:a,label:"C\xf3digo postal",errors:s,isShipping:o,containerClassNames:"w-full overflow-hidden sm:my-2 sm:px-2 md:w-1/2"}),(0,i.jsx)(O,{name:"phone",inputValue:null==l?void 0:l.phone,required:!0,handleOnChange:a,label:"Tel\xe9fono",errors:s,isShipping:o,containerClassNames:"w-full overflow-hidden sm:my-2 sm:px-2 md:w-1/2"})]}),(0,i.jsx)(_,{}),(0,i.jsx)(O,{name:"email",type:"email",inputValue:null==l?void 0:l.email,required:!0,handleOnChange:a,label:"Correo",errors:s,isShipping:o,containerClassNames:"mb-4"})]})};k.propTypes={input:y().object,countries:y().array,handleOnChange:y().func,isFetchingStates:y().bool,isShipping:y().bool},k.defaultProps={input:{},countries:[],handleOnChange:()=>null,isFetchingStates:!1,isShipping:!1};var q=n(63946);let T=e=>{let{handleOnChange:l,checked:n,name:t,label:a,placeholder:r,containerClassNames:o}=e;return(0,i.jsx)("div",{className:o,children:(0,i.jsxs)("label",{className:"leading-7 text-md text-gray-700 flex items-center cursor-pointer",htmlFor:t,children:[(0,i.jsx)("input",{onChange:l,placeholder:r,type:"checkbox",checked:n,name:t,id:t}),(0,i.jsx)("span",{className:"ml-2",children:a||""})]})})};T.propTypes={handleOnChange:y().func,checked:y().bool,name:y().string,type:y().string,label:y().string,placeholder:y().string,containerClassNames:y().string},T.defaultProps={handleOnChange:()=>null,checked:!1,name:"",label:"",placeholder:"",errors:{},containerClassNames:""};var F=n(95059),A=n.n(F);let I=e=>d()(e)||!A()(e)?[]:null==e?void 0:e.map(e=>{let{product_id:l,quantity:n}=e;return{quantity:n,product_id:l}}),P=(e,l)=>{var n,i,t,a,r,o,s,d,c,u,h;let p=e.billingDifferentThanShipping?e.billing:e.shipping;return{shipping:{first_name:null==e?void 0:null===(n=e.shipping)||void 0===n?void 0:n.firstName,last_name:null==e?void 0:null===(i=e.shipping)||void 0===i?void 0:i.lastName,address_1:null==e?void 0:null===(t=e.shipping)||void 0===t?void 0:t.address1,address_2:null==e?void 0:null===(a=e.shipping)||void 0===a?void 0:a.address2,city:null==e?void 0:null===(r=e.shipping)||void 0===r?void 0:r.city,country:null==e?void 0:null===(o=e.shipping)||void 0===o?void 0:o.country,state:null==e?void 0:null===(s=e.shipping)||void 0===s?void 0:s.state,postcode:null==e?void 0:null===(d=e.shipping)||void 0===d?void 0:d.postcode,email:null==e?void 0:null===(c=e.shipping)||void 0===c?void 0:c.email,phone:null==e?void 0:null===(u=e.shipping)||void 0===u?void 0:u.phone,company:null==e?void 0:null===(h=e.shipping)||void 0===h?void 0:h.company},billing:{first_name:null==p?void 0:p.firstName,last_name:null==p?void 0:p.lastName,address_1:null==p?void 0:p.address1,address_2:null==p?void 0:p.address2,city:null==p?void 0:p.city,country:null==p?void 0:p.country,state:null==p?void 0:p.state,postcode:null==p?void 0:p.postcode,email:null==p?void 0:p.email,phone:null==p?void 0:p.phone,company:null==p?void 0:p.company},payment_method:null==e?void 0:e.paymentMethod,payment_method_title:null==e?void 0:e.paymentMethod,line_items:I(l)}},D=async(e,l,n)=>{let i={orderId:null,total:"",currency:"",error:""};if(n)return i.error=n,i;l("");try{var t,a,r,o;let n=await fetch("/api/create-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await n.json();s.error&&(i.error=s.error,l("Algo sali\xf3 mal. Error al crear el pedido. Int\xe9ntalo de nuevo")),i.orderId=null!==(t=null==s?void 0:s.orderId)&&void 0!==t?t:"",i.total=null!==(a=s.total)&&void 0!==a?a:"",i.currency=null!==(r=s.currency)&&void 0!==r?r:"",i.paymentUrl=null!==(o=s.paymentUrl)&&void 0!==o?o:""}catch(e){console.warn("Handle create order error",null==e?void 0:e.message)}return i};var E=n(37105),V=n(7908),M=n(11582);let L=async(e,l,n,i,t,a)=>{t(!0);let r=P(e,l),o=await D(r,n,""),s=await (0,E.LL)(i,()=>{});return(t(!1),d()(null==o?void 0:o.orderId)||(null==s?void 0:s.error))?(n("Clear cart failed"),null):(a(o),o)},Q=async(e,l,n,i,t,a)=>{t(!0);let r=P(e,l),o=await D(r,n,""),s=await (0,E.LL)(i,()=>{});return(t(!1),d()(null==o?void 0:o.orderId)||(null==s?void 0:s.error))?(n("Clear cart failed"),null):(a(o),await H(l,e,null==o?void 0:o.orderId),o)},H=async(e,l,n)=>{var i,t;let a={success_url:window.location.origin,cancel_url:window.location.href,customer_email:l.billingDifferentThanShipping?null==l?void 0:null===(i=l.billing)||void 0===i?void 0:i.email:null==l?void 0:null===(t=l.shipping)||void 0===t?void 0:t.email,line_items:J(e),metadata:z(l,n),payment_method_types:["card"],mode:"payment"},r={};try{r=await createCheckoutSession(a)}catch(e){console.log("createCheckout session error",e)}try{let e=await loadStripe("pk_test_51OsrSNA0zEY3meJsA96uGJMfbW1siO1uHQ0DK2LeKAF9YNKtuX9nRb7QfdC2gg4yxbU2EutxoFYVJf71s1LXabQc00dOurgUyW");e&&e.redirectToCheckout({sessionId:r.id})}catch(e){console.log(e)}},J=e=>d()(e)&&!A()(e)?[]:e.map(e=>{var l,n,i,t,a,r,o,s,d;return{quantity:null!==(a=null==e?void 0:e.quantity)&&void 0!==a?a:0,name:null!==(r=null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.name)&&void 0!==r?r:"",images:[null!==(s=null!==(o=null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(i=t.images)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:n.src)&&void 0!==o?o:"")&&void 0!==s?s:""],amount:Math.round((null!==(d=null==e?void 0:e.line_subtotal)&&void 0!==d?d:0)*100),currency:"usd"}}),z=(e,l)=>{var n,i;return{billing:JSON.stringify(null==e?void 0:e.billing),shipping:JSON.stringify(e.billingDifferentThanShipping?null==e?void 0:null===(n=e.billing)||void 0===n?void 0:n.email:null==e?void 0:null===(i=e.shipping)||void 0===i?void 0:i.email),orderId:l}},B=(e,l,n)=>{l({...e,[n.name]:!e.billingDifferentThanShipping})},Z=(e,l,n)=>{l({...e,[n.name]:!e.createAccount})},R=async(e,l,n)=>{if("country"===e.name){n(!0);let i=e[e.selectedIndex].getAttribute("data-countrycode");l(await U(i)||[]),n(!1)}},U=async function(){var e;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!l)return[];let{data:n}=await V.Z.get(M.yd,{params:{countryCode:l}});return null!==(e=null==n?void 0:n.states)&&void 0!==e?e:[]};var G=n(75922),W=()=>{let[e,l]=(0,t.useState)(null);(0,G.R6)("TEST-f06eabcb-7ef3-41ee-a379-e532b2658022",{locale:"es-CO"});let n=async()=>{try{let{id:e}=(await V.Z.post("http://localhost:3000/api/apimercadopago",{title:"Una Card",quantity:1,price:100})).data;return e}catch(e){console.log(e)}},a=async()=>{let e=await n();e&&l(e)};return(0,i.jsxs)("div",{className:"m-auto h-auto w-[300px]",children:[(0,i.jsxs)("a",{href:"#",class:"group relative block bg-[#111]",children:[(0,i.jsx)("img",{alt:"",src:"https://images.unsplash.com/photo-1603871165848-0aa92c869fa1?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=772&q=80",class:"absolute inset-0 h-full w-full object-cover opacity-75 transition-opacity group-hover:opacity-50"}),(0,i.jsxs)("div",{class:"relative p-4 sm:p-6 lg:p-8",children:[(0,i.jsx)("p",{class:"text-sm font-medium uppercase tracking-widest text-pink-500",children:"Developer"}),(0,i.jsx)("p",{class:"text-xl font-bold text-white sm:text-2xl",children:"Tony Wayne"}),(0,i.jsx)("div",{class:"mt-32 sm:mt-48 lg:mt-64",children:(0,i.jsx)("div",{class:"translate-y-8 transform opacity-0 transition-all group-hover:translate-y-0 group-hover:opacity-100",children:(0,i.jsx)("p",{class:"text-sm text-white",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Omnis perferendis hic asperiores quibusdam quidem voluptates doloremque reiciendis nostrum harum. Repudiandae?"})})})]})]}),(0,i.jsx)("button",{onClick:a,class:"inline-block rounded border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:outline-none focus:ring active:text-indigo-500",href:"#",children:"Comprar"}),e&&(0,i.jsx)(G.w5,{initialization:{preferenceId:e,redirectMode:"blank"}})]})},X=n(29505),Y=n.n(X);let K={firstName:"Lenin",lastName:"Mendoza",address1:"123 Abc farm",address2:"Hill Road",city:"Medell\xedn",country:"CO",state:"En medell\xedn",postcode:"221029",email:"mendoza124302@gmail.com",phone:"9883778278",company:"Freelance",recogida:"En alg\xfan lado de medell\xedn",errors:null};var $=e=>{let{countriesData:l}=e,{billingCountries:n,shippingCountries:a}=l||{},r={billing:{...K},shipping:{...K},createAccount:!1,orderNotes:"",billingDifferentThanShipping:!1,paymentMethod:""},[o,s]=(0,t.useContext)(q.AppContext),[d,c]=(0,t.useState)(r),[h,p]=(0,t.useState)(null),[m,g]=(0,t.useState)([]),[x,y]=(0,t.useState)(!1),[b,f]=(0,t.useState)([]),[j,N]=(0,t.useState)(!1),[w,C]=(0,t.useState)(!1),[S,O]=(0,t.useState)({}),_=async e=>{e.preventDefault();let l=(null==d?void 0:d.billingDifferentThanShipping)?v(null==d?void 0:d.billing,null==b?void 0:b.length):{errors:null,isValid:!0},n=v(null==d?void 0:d.shipping,null==m?void 0:m.length);return(c({...d,billing:{...d.billing,errors:l.errors},shipping:{...d.shipping,errors:n.errors}}),n.isValid&&l.isValid)?"stripe"===d.paymentMethod?(await Q(d,null==o?void 0:o.cartItems,p,s,C,O),null):void((await L(d,null==o?void 0:o.cartItems,p,s,C,O)).paymentUrl,p(null)):null},F=async function(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{target:i}=e||{};"createAccount"===i.name?Z(d,c,i):"billingDifferentThanShipping"===i.name?B(d,c,i):n?l?await A(i):await I(i):c({...d,[i.name]:i.value})},A=async e=>{c({...d,shipping:{...null==d?void 0:d.shipping,[e.name]:e.value}}),await R(e,g,y)},I=async e=>{c({...d,billing:{...null==d?void 0:d.billing,[e.name]:e.value}}),await R(e,f,N)};return(0,i.jsx)(i.Fragment,{children:o?(0,i.jsx)("form",{onSubmit:_,className:"woo-next-checkout-form",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-20 md:grid-cols-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"billing-details",children:[(0,i.jsx)("h2",{className:"mb-4 text-xl font-medium",children:"Detalles de env\xedo"}),(0,i.jsx)(k,{states:m,countries:a,input:null==d?void 0:d.shipping,handleOnChange:e=>F(e,!0,!0),isFetchingStates:x,isShipping:!0,isBillingOrShipping:!0})]}),(0,i.jsx)("div",{children:(0,i.jsx)(T,{name:"billingDifferentThanShipping",type:"checkbox",checked:null==d?void 0:d.billingDifferentThanShipping,handleOnChange:F,label:"Facturaci\xf3n diferente al env\xedo.",containerClassNames:"mb-4 pt-4"})}),(null==d?void 0:d.billingDifferentThanShipping)?(0,i.jsxs)("div",{className:"billing-details",children:[(0,i.jsx)("h2",{className:"mb-4 text-xl font-medium",children:"Detalles de facturaci\xf3n"}),(0,i.jsx)(k,{states:b,countries:n.length?n:a,input:null==d?void 0:d.billing,handleOnChange:e=>F(e,!1,!0),isFetchingStates:j,isShipping:!1,isBillingOrShipping:!0})]}):null]}),(0,i.jsxs)("div",{className:"your-orders",children:[(0,i.jsx)("h2",{className:"mb-4 text-xl font-medium",children:"Tu Orden"}),(0,i.jsx)(u,{cart:o}),(0,i.jsx)("h2",{className:"".concat(Y().className," text-base lg:text-[24px] font-bold"),children:"Metodo de env\xedo"}),(0,i.jsx)("div",{className:"woo-next-place-order-btn-wrap mt-5",children:(0,i.jsx)(W,{})}),w&&(0,i.jsx)("p",{children:"Procesando orde..."}),h&&(0,i.jsxs)("p",{children:["Error : ",h," :( Por favor intenta de nuevo"]})]})]})}):null})}},37105:function(e,l,n){"use strict";n.d(l,{Xq:function(){return h},LL:function(){return v},GR:function(){return g},xu:function(){return m}});var i=n(70331),t=n.n(i);let a=e=>{if(t()(e))return null;localStorage.setItem("x-wc-session",e)},r=()=>localStorage.getItem("x-wc-session"),o=()=>{let e={headers:{"X-Headless-CMS":!0}},l=r();return t()(l)||(e.headers["x-wc-session"]=l),e};var s=n(7908),d=n(11582),c=n(95059),u=n.n(c);let h=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,u=r(),h=o();c(!0),s.Z.post(d.Qw,{product_id:e,quantity:l},h).then(e=>{if(t()(u)){var l;a(null==e?void 0:null===(l=e.headers)||void 0===l?void 0:l["x-wc-session"])}i(!0),c(!1),p(n)}).catch(e=>{console.log("err",e)})},p=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=o();s.Z.get(d.Qw,n).then(n=>{var i;e(x(null!==(i=null==n?void 0:n.data)&&void 0!==i?i:[])),l(!1)}).catch(e=>{console.log("err",e),l(!1)})},m=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,t=o();i(!0),s.Z.put("".concat(d.Qw).concat(e),{quantity:l},t).then(e=>{p(n,i)}).catch(e=>{console.log("err",e),i(!1)})},g=(e,l,n)=>{let i=o();n(!0),s.Z.delete("".concat(d.Qw).concat(e),i).then(e=>{p(l,n)}).catch(e=>{console.log("err",e),n(!1)})},v=async(e,l)=>{l(!0);let n=o();try{await s.Z.delete(d.Qw,n),p(e,l)}catch(e){console.log("err",e),l(!1)}},x=e=>{if(!e.length)return null;let l=y(e||[]);return{cartItems:e||[],...l}},y=e=>{let l={totalQty:0,totalPrice:0};return u()(e)&&(null==e?void 0:e.length)&&e.forEach((e,n)=>{var i,t;l.totalQty+=null!==(i=null==e?void 0:e.quantity)&&void 0!==i?i:0,l.totalPrice+=null!==(t=null==e?void 0:e.line_total)&&void 0!==t?t:0}),l}},11582:function(e,l,n){"use strict";n.d(l,{Qw:function(){return i},yd:function(){return t}});let i="".concat("https://test.mincaelectric.com","/wp-json/rae/v1/cart/items/"),t="".concat("https://test.mincaelectric.com","/wp-json/rae/v1/wc/states")}},function(e){e.O(0,[384,32,908,331,922,407,469,971,69,744],function(){return e(e.s=73742)}),_N_E=e.O()}]);